rq tp1



1 What is a data class in Kotlin?

    ///////////////////////////////

1.This is a class dedicated solely to holding data. Once you add the keyword `data` before the code, Kotlin automatically creates background functions that save you from writing dozens of lines of code. These functions include:

`toString()`: To print the object's contents in a readable format (e.g., `Book(isbn=123, ...)`).

`equals()` & `hashCode()`: To compare two objects based on their data, not their memory location.

`copy()`: To create a new copy of the object with some modified values (this is where the power of `val` lies).

2 Why do we use val instead of var for the properties?

    ///////////////////////////

2.Using `val` (read-only) is standard practice (best practice) when defining data models for several reasons:

Immutability: It ensures that once an object is created, its data won't be accidentally altered elsewhere in the application. This makes the code "safe" and less prone to bugs.

3 What would happen if we used var instead?

       ////////////////////////// 

3.Technically, the code will work and Kotlin won't prevent you from doing so, but you will encounter the following problems:

Loss of control: Any part of the code can modify the book title or ISBN at any time, which could lead to unexpected results in databases or interfaces.


        ##########################

1 What is the purpose of the BookRepository class?



1Ô∏è‚É£ What is the role of BookRepository?
It is a class that manages book data.
It acts as an intermediary between the data source (here, a list) and the rest of the application.
 It follows the Repository Pattern to separate data logic from the UI.

          ///////////////////

2 What does the getAllBooks() function return?

2Ô∏è‚É£ What does getAllBooks() return?
fun getAllBooks(): List<Book>
It returns a list of books: List<Book>.


          //////////////////

3 How would you add a function to search books by title?

exemple:
fun searchBooksByTitle(query: String): List<Book> {
    return booksList.filter {
        it.title.contains(query, ignoreCase = true)
    }
}
This function returns all books whose title contains the searched text.


/////////////////////////////////////////////////////////

1. Why do we have a separate Use Case instead of calling the repository directly from the ViewModel?

1. We use a separate Use Case to follow Clean Architecture principles and to separate business logic from the UI layer.
If ViewModel calls Repository directly: ViewModel ‚Üí Repository
‚úÖ With Use Case: ViewModel ‚Üí UseCase ‚Üí Repository

////////////////////////////////////////

2. What is the `operator fun invoke()` syntax?

2.It allows you to call a class like a function

////////////////////////////////////////

3. How would you add business logic to filter only books with more than 300 pages?

3. class GetLongBooksUseCase(
    private val repository: BookRepository
) {
    operator fun invoke(): List<Book> {
        return repository.getAllBooks()
            .filter { it.nbPages > 300 }
    }
}


/////////////////////////////////////

1. What is `StateFlow` and why do we use it?

1. Always has an initial value

Emits updates whenever the value changes

It is used to represent UI state in a reactive way.

/////////////////////////////////////////////

2. What is the difference between `_books` (private) and `books` (public)?

2. this pattern is called Backing Property Pattern.

| `_books`         | `books`             |
| ---------------- | ------------------- |
| Mutable          | Read-only           |
| Private          | Public              |
| Can change value | Cannot change value |
| Inside ViewModel | Exposed to UI       |

//////////////////////////////////////////////

3. What is `viewModelScope` and why do we use it?

3. viewModelScope is a CoroutineScope tied to the ViewModel lifecycle.

It automatically:

Launches coroutines

Cancels them when ViewModel is cleared

/////////////////////////////////////////////

4. When is the `init` block executed?
Holds a current value (state)

4. init is a block that runs Immediately after the class is created.

///////////////////////////////////////////////

1. How does the screen observe changes in the ViewModel?

1. The screen observes changes using StateFlow and collectAsState() in Jetpack compose.

///////////////////////////

2. What is `LazyColumn` and why do we use it instead of `Column`?

2. lazyColumn is a composable that displays a scrollable vertical list efficiently.

example for clarify :

If you have 1000 books:

Column ‚Üí Draws 1000 items at once ‚ùå

LazyColumn ‚Üí Draws only the items shown on the screen ‚úÖ

///////////////////////////////


3. What happens when the books list is empty?

3.  EmptyBooksMessage()
üìö  No books found

